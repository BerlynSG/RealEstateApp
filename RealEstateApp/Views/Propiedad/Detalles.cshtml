@using RealEstateApp.Core.Application.ViewModels.Propiedad
@using RealEstateApp.Core.Application.Enums
@model PropiedadViewModel
@{
    ViewData["Title"] = "Detalles de la propiedad";
}

<div class="container-fluid">
    <div class="row">
        <div class="col-8">
            <div id="carouselFotos" class="carousel slide">
                <div class="carousel-inner">
                    @for (var i = 0; i < Model.Imagenes.Count(); i++)
                    {
                        <div class="carousel-item @(i == 0 ? "active" : "")">
                            <img src="@Model.Imagenes[i]" class="d-block w-100" alt="Foto Propiedad">
                        </div>
                    }
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselFotos" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselFotos" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
            <div>
                <small class="text-body-secondary">
                    <b> Código: </b> @Model.Codigo
                </small>
                <h4> <b> @Enum.GetName(typeof(TipoPropiedad), Model.Tipo) </b></h4>
                <small class="text-body-secondary">
                    <b> Tipo de venta: </b> @Enum.GetName(typeof(TipoVenta), Model.TipoVenta)
                    <br> <b> Costo: </b> RD$ @Model.Valor
                    <br> <b> Cantidad de habitaciones: </b> @Model.Habitaciones
                    <br> <b> Cantidad de baños: </b> @Model.Baños
                    <br> <b> Tamaño: </b> @Model.Tamaño m²
                    <br> <b>Mejoras: </b>
                    @foreach(var item in Model.Mejoras)
                    {
                        @item.Nombre@(", ")
                    }
                </small>
                <h5><b>Descripción</b></h5>
                <p>@Model.Descripcion</p>
            </div>
        </div>
        <div class="col-4">
            <h3><b>Agente</b></h3>
            <small class="text-body-secondary">
                <img src="@Model.Agente.Foto" height="50px" width="50px" /> @Model.Agente.Nombre @Model.Agente.Apellidos
                <br> <b> Número de Célular: </b> RD$ @Model.Agente.Celular
                <br> <b> Correo: </b> @Model.Agente.Correo
            </small>
        </div>
    </div>
</div>